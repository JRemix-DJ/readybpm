var _slice=Array.prototype.slice,_slicedToArray=function(){function i(t,e){var i=[],n=!0,r=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){r=!0,s=t}finally{try{!n&&a.return&&a.return()}finally{if(r)throw s}}return i}return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return i(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,i=Array(t.length);e<t.length;e++)i[e]=t[e];return i}return Array.from(t)}!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],e):t.parsley=e(t.jQuery)}(this,function(p){"use strict";var e=1,i={},d={attr:function t(e,i,n){var r,s,a,o=new RegExp("^"+i,"i");if(void 0===n)n={};else for(r in n)n.hasOwnProperty(r)&&delete n[r];if(!e)return n;for(r=(a=e.attributes).length;r--;)(s=a[r])&&s.specified&&o.test(s.name)&&(n[this.camelize(s.name.slice(i.length))]=this.deserializeValue(s.value));return n},checkAttr:function t(e,i,n){return e.hasAttribute(i+n)},setAttr:function t(e,i,n,r){e.setAttribute(this.dasherize(i+n),String(r))},getType:function t(e){return e.getAttribute("type")||"text"},generateID:function t(){return""+e++},deserializeValue:function t(e){var i;try{return e?"true"==e||"false"!=e&&("null"==e?null:isNaN(i=Number(e))?/^[\[\{]/.test(e)?JSON.parse(e):e:i):e}catch(t){return e}},camelize:function t(e){return e.replace(/-+(.)?/g,function(t,e){return e?e.toUpperCase():""})},dasherize:function t(e){return e.replace(/::/g,"/").replace(/([A-Z]+)([A-Z][a-z])/g,"$1_$2").replace(/([a-z\d])([A-Z])/g,"$1_$2").replace(/_/g,"-").toLowerCase()},warn:function t(){var e;window.console&&"function"==typeof window.console.warn&&(e=window.console).warn.apply(e,arguments)},warnOnce:function t(e){i[e]||(i[e]=!0,this.warn.apply(this,arguments))},_resetWarnings:function t(){i={}},trimString:function t(e){return e.replace(/^\s+|\s+$/g,"")},parse:{date:function t(e){var i=e.match(/^(\d{4,})-(\d\d)-(\d\d)$/);if(!i)return null;var n=i.map(function(t){return parseInt(t,10)}),r=_slicedToArray(n,4),s=r[0],a=r[1],o=r[2],l=r[3],t=new Date(a,o-1,l);return t.getFullYear()!==a||t.getMonth()+1!==o||t.getDate()!==l?null:t},string:function t(e){return e},integer:function t(e){return isNaN(e)?null:parseInt(e,10)},number:function t(e){if(isNaN(e))throw null;return parseFloat(e)},boolean:function t(e){return!/^\s*false\s*$/i.test(e)},object:function t(e){return d.deserializeValue(e)},regexp:function t(e){var i="";return e=/^\/.*\/(?:[gimy]*)$/.test(e)?(i=e.replace(/.*\/([gimy]*)$/,"$1"),e.replace(new RegExp("^/(.*?)/"+i+"$"),"$1")):"^"+e+"$",new RegExp(e,i)}},parseRequirement:function t(e,i){var n=this.parse[e||"string"];if(!n)throw'Unknown requirement specification: "'+e+'"';var r=n(i);if(null===r)throw"Requirement is not a "+e+': "'+i+'"';return r},namespaceEvents:function t(e,i){return(e=this.trimString(e||"").split(/\s+/))[0]?p.map(e,function(t){return t+"."+i}).join(" "):""},difference:function t(e,i){var n=[];return p.each(e,function(t,e){-1==i.indexOf(e)&&n.push(e)}),n},all:function t(e){return p.when.apply(p,_toConsumableArray(e).concat([42,42]))},objectCreate:Object.create||(n=function t(){},function(t){if(1<arguments.length)throw Error("Second argument not supported");if("object"!=typeof t)throw TypeError("Argument must be an object");n.prototype=t;var e=new n;return n.prototype=null,e}),_SubmitSelector:'input[type="submit"], button:submit'},n,r={namespace:"data-parsley-",inputs:"input, textarea, select",excluded:"input[type=button], input[type=submit], input[type=reset], input[type=hidden]",priorityEnabled:!0,multiple:null,group:null,uiEnabled:!0,validationThreshold:3,focus:"first",trigger:!1,triggerAfterFailure:"input",errorClass:"parsley-error",successClass:"parsley-success",classHandler:function t(e){},errorsContainer:function t(e){},errorsWrapper:'<ul class="parsley-errors-list"></ul>',errorTemplate:"<li></li>"},s=function t(){this.__id__=d.generateID()};s.prototype={asyncSupport:!0,_pipeAccordingToValidationResult:function t(){var i=this,e=function t(){var e=p.Deferred();return!0!==i.validationResult&&e.reject(),e.resolve().promise()};return[e,e]},actualizeOptions:function t(){return d.attr(this.element,this.options.namespace,this.domOptions),this.parent&&this.parent.actualizeOptions&&this.parent.actualizeOptions(),this},_resetOptions:function t(e){for(var i in this.domOptions=d.objectCreate(this.parent.options),this.options=d.objectCreate(this.domOptions),e)e.hasOwnProperty(i)&&(this.options[i]=e[i]);this.actualizeOptions()},_listeners:null,on:function t(e,i){var n;return this._listeners=this._listeners||{},(this._listeners[e]=this._listeners[e]||[]).push(i),this},subscribe:function t(e,i){p.listenTo(this,e.toLowerCase(),i)},off:function t(e,i){var n=this._listeners&&this._listeners[e];if(n)if(i)for(var r=n.length;r--;)n[r]===i&&n.splice(r,1);else delete this._listeners[e];return this},unsubscribe:function t(e,i){p.unsubscribeTo(this,e.toLowerCase())},trigger:function t(e,i,n){i=i||this;var r=this._listeners&&this._listeners[e],s,a;if(r)for(var o=r.length;o--;)if(!1===(s=r[o].call(i,i,n)))return s;return!this.parent||this.parent.trigger(e,i,n)},asyncIsValid:function t(e,i){return d.warnOnce("asyncIsValid is deprecated; please use whenValid instead"),this.whenValid({group:e,force:i})},_findRelated:function t(){return this.options.multiple?p(this.parent.element.querySelectorAll("["+this.options.namespace+'multiple="'+this.options.multiple+'"]')):this.$element}};var a=function t(e,i){var n=e.match(/^\s*\[(.*)\]\s*$/);if(!n)throw'Requirement is not an array: "'+e+'"';var r=n[1].split(",").map(d.trimString);if(r.length!==i)throw"Requirement has "+r.length+" values when "+i+" are needed";return r},o=function t(e,i,n){var r=null,s={};for(var a in e)if(a){var o=n(a);"string"==typeof o&&(o=d.parseRequirement(e[a],o)),s[a]=o}else r=d.parseRequirement(e[a],i);return[r,s]},l=function t(e){p.extend(!0,this,e)};l.prototype={validate:function t(e,i){if(this.fn)return 3<arguments.length&&(i=[].slice.call(arguments,1,-1)),this.fn(e,i);if(Array.isArray(e)){if(!this.validateMultiple)throw"Validator `"+this.name+"` does not handle multiple values";return this.validateMultiple.apply(this,arguments)}var n=arguments[arguments.length-1];if(this.validateDate&&n._isDateInput())return null!==(e=d.parse.date(e))&&this.validateDate.apply(this,arguments);if(this.validateNumber)return!isNaN(e)&&(e=parseFloat(e),this.validateNumber.apply(this,arguments));if(this.validateString)return this.validateString.apply(this,arguments);throw"Validator `"+this.name+"` only handles multiple values"},parseRequirements:function t(e,i){if("string"!=typeof e)return Array.isArray(e)?e:[e];var n=this.requirementType;if(Array.isArray(n)){for(var r=a(e,n.length),s=0;s<r.length;s++)r[s]=d.parseRequirement(n[s],r[s]);return r}return p.isPlainObject(n)?o(n,e,i):[d.parseRequirement(n,e)]},requirementType:"string",priority:2};var t=function t(e,i){this.__class__="ValidatorRegistry",this.locale="en",this.init(e||{},i||{})},c={email:/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i,number:/^-?(\d*\.)?\d+(e[-+]?\d+)?$/i,integer:/^-?\d+$/,digits:/^\d+$/,alphanum:/^\w+$/i,date:{test:function t(e){return null!==d.parse.date(e)}},url:new RegExp("^(?:(?:https?|ftp)://)?(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:/\\S*)?$","i")};c.range=c.number;var f=function t(e){var i=(""+e).match(/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/);return i?Math.max(0,(i[1]?i[1].length:0)-(i[2]?+i[2]:0)):0},u=function t(e,i){return i.map(d.parse[e])},h=function t(r,s){return function(t){for(var e=arguments.length,i=Array(1<e?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return i.pop(),s.apply(void 0,[t].concat(_toConsumableArray(u(r,i))))}},m=function t(e){return{validateDate:h("date",e),validateNumber:h("number",e),requirementType:e.length<=2?"string":["string","string"],priority:30}};t.prototype={init:function t(e,i){for(var n in this.catalog=i,this.validators=_extends({},this.validators),e)this.addValidator(n,e[n].fn,e[n].priority);window.Parsley.trigger("parsley:validator:init")},setLocale:function t(e){if(void 0===this.catalog[e])throw new Error(e+" is not available in the catalog");return this.locale=e,this},addCatalog:function t(e,i,n){return"object"==typeof i&&(this.catalog[e]=i),!0===n?this.setLocale(e):this},addMessage:function t(e,i,n){return void 0===this.catalog[e]&&(this.catalog[e]={}),this.catalog[e][i]=n,this},addMessages:function t(e,i){for(var n in i)this.addMessage(e,n,i[n]);return this},addValidator:function t(e,i,n){if(this.validators[e])d.warn('Validator "'+e+'" is already defined.');else if(r.hasOwnProperty(e))return void d.warn('"'+e+'" is a restricted keyword and is not a valid validator name.');return this._setValidator.apply(this,arguments)},hasValidator:function t(e){return!!this.validators[e]},updateValidator:function t(e,i,n){return this.validators[e]?this._setValidator.apply(this,arguments):(d.warn('Validator "'+e+'" is not already defined.'),this.addValidator.apply(this,arguments))},removeValidator:function t(e){return this.validators[e]||d.warn('Validator "'+e+'" is not defined.'),delete this.validators[e],this},_setValidator:function t(e,i,n){for(var r in"object"!=typeof i&&(i={fn:i,priority:n}),i.validate||(i=new l(i)),(this.validators[e]=i).messages||{})this.addMessage(r,e,i.messages[r]);return this},getErrorMessage:function t(e){var i,n;"type"===e.name?i=(this.catalog[this.locale][e.name]||{})[e.requirements]:i=this.formatMessage(this.catalog[this.locale][e.name],e.requirements);return i||this.catalog[this.locale].defaultMessage||this.catalog.en.defaultMessage},formatMessage:function t(e,i){if("object"!=typeof i)return"string"==typeof e?e.replace(/%s/i,i):"";for(var n in i)e=this.formatMessage(e,i[n]);return e},validators:{notblank:{validateString:function t(e){return/\S/.test(e)},priority:2},required:{validateMultiple:function t(e){return 0<e.length},validateString:function t(e){return/\S/.test(e)},priority:512},type:{validateString:function t(e,i){var n=arguments.length<=2||void 0===arguments[2]?{}:arguments[2],r=n.step,s=void 0===r?"any":r,a=n.base,o=void 0===a?0:a,l=c[i];if(!l)throw new Error("validator type `"+i+"` is not supported");if(!l.test(e))return!1;if("number"===i&&!/^any$/i.test(s||"")){var u=Number(e),d=Math.max(f(s),f(o));if(f(u)>d)return!1;var h=function t(e){return Math.round(e*Math.pow(10,d))};if((h(u)-h(o))%h(s)!=0)return!1}return!0},requirementType:{"":"string",step:"string",base:"number"},priority:256},pattern:{validateString:function t(e,i){return i.test(e)},requirementType:"regexp",priority:64},minlength:{validateString:function t(e,i){return e.length>=i},requirementType:"integer",priority:30},maxlength:{validateString:function t(e,i){return e.length<=i},requirementType:"integer",priority:30},length:{validateString:function t(e,i,n){return e.length>=i&&e.length<=n},requirementType:["integer","integer"],priority:30},mincheck:{validateMultiple:function t(e,i){return e.length>=i},requirementType:"integer",priority:30},maxcheck:{validateMultiple:function t(e,i){return e.length<=i},requirementType:"integer",priority:30},check:{validateMultiple:function t(e,i,n){return e.length>=i&&e.length<=n},requirementType:["integer","integer"],priority:30},min:m(function(t,e){return e<=t}),max:m(function(t,e){return t<=e}),range:m(function(t,e,i){return e<=t&&t<=i}),equalto:{validateString:function t(e,i){var n=p(i);return n.length?e===n.val():e===i},priority:256}}};var g={},v=function t(e,i,n){for(var r=[],s=[],a=0;a<e.length;a++){for(var o=!1,l=0;l<i.length;l++)if(e[a].assert.name===i[l].assert.name){o=!0;break}o?s.push(e[a]):r.push(e[a])}return{kept:s,added:r,removed:n?[]:t(i,e,!0).added}};g.Form={_actualizeTriggers:function t(){var e=this;this.$element.on("submit.Parsley",function(t){e.onSubmitValidate(t)}),this.$element.on("click.Parsley",d._SubmitSelector,function(t){e.onSubmitButton(t)}),!1!==this.options.uiEnabled&&this.element.setAttribute("novalidate","")},focus:function t(){if(!(this._focusedField=null)===this.validationResult||"none"===this.options.focus)return null;for(var e=0;e<this.fields.length;e++){var i=this.fields[e];if(!0!==i.validationResult&&0<i.validationResult.length&&void 0===i.options.noFocus&&(this._focusedField=i.$element,"first"===this.options.focus))break}return null===this._focusedField?null:this._focusedField.focus()},_destroyUI:function t(){this.$element.off(".Parsley")}},g.Field={_reflowUI:function t(){if(this._buildUI(),this._ui){var e=v(this.validationResult,this._ui.lastValidationResult);this._ui.lastValidationResult=this.validationResult,this._manageStatusClass(),this._manageErrorsMessages(e),this._actualizeTriggers(),!e.kept.length&&!e.added.length||this._failedOnce||(this._failedOnce=!0,this._actualizeTriggers())}},getErrorsMessages:function t(){if(!0===this.validationResult)return[];for(var e=[],i=0;i<this.validationResult.length;i++)e.push(this.validationResult[i].errorMessage||this._getErrorMessage(this.validationResult[i].assert));return e},addError:function t(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=i.message,r=i.assert,s=i.updateClass,a=void 0===s||s;this._buildUI(),this._addError(e,{message:n,assert:r}),a&&this._errorClass()},updateError:function t(e){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=i.message,r=i.assert,s=i.updateClass,a=void 0===s||s;this._buildUI(),this._updateError(e,{message:n,assert:r}),a&&this._errorClass()},removeError:function t(e){var i,n=(arguments.length<=1||void 0===arguments[1]?{}:arguments[1]).updateClass,r=void 0===n||n;this._buildUI(),this._removeError(e),r&&this._manageStatusClass()},_manageStatusClass:function t(){this.hasConstraints()&&this.needsValidation()&&!0===this.validationResult?this._successClass():0<this.validationResult.length?this._errorClass():this._resetClass()},_manageErrorsMessages:function t(e){if(void 0===this.options.errorsMessagesDisabled){if(void 0!==this.options.errorMessage)return e.added.length||e.kept.length?(this._insertErrorWrapper(),0===this._ui.$errorsWrapper.find(".parsley-custom-error-message").length&&this._ui.$errorsWrapper.append(p(this.options.errorTemplate).addClass("parsley-custom-error-message")),this._ui.$errorsWrapper.addClass("filled").find(".parsley-custom-error-message").html(this.options.errorMessage)):this._ui.$errorsWrapper.removeClass("filled").find(".parsley-custom-error-message").remove();for(var i=0;i<e.removed.length;i++)this._removeError(e.removed[i].assert.name);for(i=0;i<e.added.length;i++)this._addError(e.added[i].assert.name,{message:e.added[i].errorMessage,assert:e.added[i].assert});for(i=0;i<e.kept.length;i++)this._updateError(e.kept[i].assert.name,{message:e.kept[i].errorMessage,assert:e.kept[i].assert})}},_addError:function t(e,i){var n=i.message,r=i.assert;this._insertErrorWrapper(),this._ui.$errorsWrapper.addClass("filled").append(p(this.options.errorTemplate).addClass("parsley-"+e).html(n||this._getErrorMessage(r)))},_updateError:function t(e,i){var n=i.message,r=i.assert;this._ui.$errorsWrapper.addClass("filled").find(".parsley-"+e).html(n||this._getErrorMessage(r))},_removeError:function t(e){this._ui.$errorsWrapper.removeClass("filled").find(".parsley-"+e).remove()},_getErrorMessage:function t(e){var i=e.name+"Message";return void 0!==this.options[i]?window.Parsley.formatMessage(this.options[i],e.requirements):window.Parsley.getErrorMessage(e)},_buildUI:function t(){if(!this._ui&&!1!==this.options.uiEnabled){var e={};this.element.setAttribute(this.options.namespace+"id",this.__id__),e.$errorClassHandler=this._manageClassHandler(),e.errorsWrapperId="parsley-id-"+(this.options.multiple?"multiple-"+this.options.multiple:this.__id__),e.$errorsWrapper=p(this.options.errorsWrapper).attr("id",e.errorsWrapperId),e.lastValidationResult=[],e.validationInformationVisible=!1,this._ui=e}},_manageClassHandler:function t(){if("string"==typeof this.options.classHandler&&p(this.options.classHandler).length)return p(this.options.classHandler);var e=this.options.classHandler;if("string"==typeof this.options.classHandler&&"function"==typeof window[this.options.classHandler]&&(e=window[this.options.classHandler]),"function"==typeof e){var i=e.call(this,this);if(void 0!==i&&i.length)return i}else{if("object"==typeof e&&e instanceof jQuery&&e.length)return e;e&&d.warn("The class handler `"+e+"` does not exist in DOM nor as a global JS function")}return this._inputHolder()},_inputHolder:function t(){return this.options.multiple&&"SELECT"!==this.element.nodeName?this.$element.parent():this.$element},_insertErrorWrapper:function t(){var e=this.options.errorsContainer;if(0!==this._ui.$errorsWrapper.parent().length)return this._ui.$errorsWrapper.parent();if("string"==typeof e){if(p(e).length)return p(e).append(this._ui.$errorsWrapper);"function"==typeof window[e]?e=window[e]:d.warn("The errors container `"+e+"` does not exist in DOM nor as a global JS function")}return"function"==typeof e&&(e=e.call(this,this)),"object"==typeof e&&e.length?e.append(this._ui.$errorsWrapper):this._inputHolder().after(this._ui.$errorsWrapper)},_actualizeTriggers:function t(){var e=this,i=this._findRelated(),n;i.off(".Parsley"),this._failedOnce?i.on(d.namespaceEvents(this.options.triggerAfterFailure,"Parsley"),function(){e._validateIfNeeded()}):(n=d.namespaceEvents(this.options.trigger,"Parsley"))&&i.on(n,function(t){e._validateIfNeeded(t)})},_validateIfNeeded:function t(e){var i=this;e&&/key|input/.test(e.type)&&(!this._ui||!this._ui.validationInformationVisible)&&this.getValue().length<=this.options.validationThreshold||(this.options.debounce?(window.clearTimeout(this._debounced),this._debounced=window.setTimeout(function(){return i.validate()},this.options.debounce)):this.validate())},_resetUI:function t(){this._failedOnce=!1,this._actualizeTriggers(),void 0!==this._ui&&(this._ui.$errorsWrapper.removeClass("filled").children().remove(),this._resetClass(),this._ui.lastValidationResult=[],this._ui.validationInformationVisible=!1)},_destroyUI:function t(){this._resetUI(),void 0!==this._ui&&this._ui.$errorsWrapper.remove(),delete this._ui},_successClass:function t(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.errorClass).addClass(this.options.successClass)},_errorClass:function t(){this._ui.validationInformationVisible=!0,this._ui.$errorClassHandler.removeClass(this.options.successClass).addClass(this.options.errorClass)},_resetClass:function t(){this._ui.$errorClassHandler.removeClass(this.options.successClass).removeClass(this.options.errorClass)}};var y=function t(e,i,n){this.__class__="Form",this.element=e,this.$element=p(e),this.domOptions=i,this.options=n,this.parent=window.Parsley,this.fields=[],this.validationResult=null},_={pending:null,resolved:!0,rejected:!1};y.prototype={onSubmitValidate:function t(e){var i=this;if(!0!==e.parsley){var n=this._submitSource||this.$element.find(d._SubmitSelector)[0];if(this._submitSource=null,this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!0),!n||null===n.getAttribute("formnovalidate")){window.Parsley._remoteCache={};var r=this.whenValidate({event:e});"resolved"===r.state()&&!1!==this._trigger("submit")||(e.stopImmediatePropagation(),e.preventDefault(),"pending"===r.state()&&r.done(function(){i._submit(n)}))}}},onSubmitButton:function t(e){this._submitSource=e.currentTarget},_submit:function t(e){if(!1!==this._trigger("submit")){if(e){var i=this.$element.find(".parsley-synthetic-submit-button").prop("disabled",!1);0===i.length&&(i=p('<input class="parsley-synthetic-submit-button" type="hidden">').appendTo(this.$element)),i.attr({name:e.getAttribute("name"),value:e.getAttribute("value")})}this.$element.trigger(_extends(p.Event("submit"),{parsley:!0}))}},validate:function t(e){if(1<=arguments.length&&!p.isPlainObject(e)){d.warnOnce("Calling validate on a parsley form without passing arguments as an object is deprecated.");var i=_slice.call(arguments),n,r,s;e={group:i[0],force:i[1],event:i[2]}}return _[this.whenValidate(e).state()]},whenValidate:function t(){var e,i=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=n.group,s=n.force,a=n.event;(this.submitEvent=a)&&(this.submitEvent=_extends({},a,{preventDefault:function t(){d.warnOnce("Using `this.submitEvent.preventDefault()` is deprecated; instead, call `this.validationResult = false`"),i.validationResult=!1}})),this.validationResult=!0,this._trigger("validate"),this._refreshFields();var o=this._withoutReactualizingFormOptions(function(){return p.map(i.fields,function(t){return t.whenValidate({force:s,group:r})})});return(e=d.all(o).done(function(){i._trigger("success")}).fail(function(){i.validationResult=!1,i.focus(),i._trigger("error")}).always(function(){i._trigger("validated")})).pipe.apply(e,_toConsumableArray(this._pipeAccordingToValidationResult()))},isValid:function t(e){if(1<=arguments.length&&!p.isPlainObject(e)){d.warnOnce("Calling isValid on a parsley form without passing arguments as an object is deprecated.");var i=_slice.call(arguments),n,r;e={group:i[0],force:i[1]}}return _[this.whenValid(e).state()]},whenValid:function t(){var e=this,i=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=i.group,r=i.force;this._refreshFields();var s=this._withoutReactualizingFormOptions(function(){return p.map(e.fields,function(t){return t.whenValid({group:n,force:r})})});return d.all(s)},refresh:function t(){return this._refreshFields(),this},reset:function t(){for(var e=0;e<this.fields.length;e++)this.fields[e].reset();this._trigger("reset")},destroy:function t(){this._destroyUI();for(var e=0;e<this.fields.length;e++)this.fields[e].destroy();this.$element.removeData("Parsley"),this._trigger("destroy")},_refreshFields:function t(){return this.actualizeOptions()._bindFields()},_bindFields:function t(){var r=this,e=this.fields;return this.fields=[],this.fieldsMappedById={},this._withoutReactualizingFormOptions(function(){r.$element.find(r.options.inputs).not(r.options.excluded).each(function(t,e){var i=new window.Parsley.Factory(e,{},r);if(("Field"===i.__class__||"FieldMultiple"===i.__class__)&&!0!==i.options.excluded){var n=i.__class__+"-"+i.__id__;void 0===r.fieldsMappedById[n]&&(r.fieldsMappedById[n]=i,r.fields.push(i))}}),p.each(d.difference(e,r.fields),function(t,e){e.reset()})}),this},_withoutReactualizingFormOptions:function t(e){var i=this.actualizeOptions;this.actualizeOptions=function(){return this};var n=e();return this.actualizeOptions=i,n},_trigger:function t(e){return this.trigger("form:"+e)}};var w=function t(e,i,n,r,s){var a=window.Parsley._validatorRegistry.validators[i],o=new l(a);r=r||e.options[i+"Priority"]||o.priority,_extends(this,{validator:o,name:i,requirements:n,priority:r,isDomConstraint:s=!0===s}),this._parseRequirements(e.options)},b=function t(e){var i;return e[0].toUpperCase()+e.slice(1)},F=function t(e,i,n,r){this.__class__="Field",this.element=e,this.$element=p(e),void 0!==r&&(this.parent=r),this.options=n,this.domOptions=i,this.constraints=[],this.constraintsByName={},this.validationResult=!0,this._bindConstraints()},C={pending:null,resolved:!0,rejected:!(w.prototype={validate:function t(e,i){var n;return(n=this.validator).validate.apply(n,[e].concat(_toConsumableArray(this.requirementList),[i]))},_parseRequirements:function t(e){var i=this;this.requirementList=this.validator.parseRequirements(this.requirements,function(t){return e[i.name+b(t)]})}})};F.prototype={validate:function t(e){1<=arguments.length&&!p.isPlainObject(e)&&(d.warnOnce("Calling validate on a parsley field without passing arguments as an object is deprecated."),e={options:e});var i=this.whenValidate(e);if(!i)return!0;switch(i.state()){case"pending":return null;case"resolved":return!0;case"rejected":return this.validationResult}},whenValidate:function t(){var e,i=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],r=n.force,s=n.group;if(this.refresh(),!s||this._isInGroup(s))return this.value=this.getValue(),this._trigger("validate"),(e=this.whenValid({force:r,value:this.value,_refreshed:!0}).always(function(){i._reflowUI()}).done(function(){i._trigger("success")}).fail(function(){i._trigger("error")}).always(function(){i._trigger("validated")})).pipe.apply(e,_toConsumableArray(this._pipeAccordingToValidationResult()))},hasConstraints:function t(){return 0!==this.constraints.length},needsValidation:function t(e){return void 0===e&&(e=this.getValue()),!(!e.length&&!this._isRequired()&&void 0===this.options.validateIfEmpty)},_isInGroup:function t(e){return Array.isArray(this.options.group)?-1!==p.inArray(e,this.options.group):this.options.group===e},isValid:function t(e){if(1<=arguments.length&&!p.isPlainObject(e)){d.warnOnce("Calling isValid on a parsley field without passing arguments as an object is deprecated.");var i=_slice.call(arguments),n,r;e={force:i[0],value:i[1]}}var s=this.whenValid(e);return!s||C[s.state()]},whenValid:function t(){var n=this,e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=e.force,r=void 0!==i&&i,s=e.value,a=e.group,o;if(e._refreshed||this.refresh(),!a||this._isInGroup(a)){if(this.validationResult=!0,!this.hasConstraints())return p.when();if(null==s&&(s=this.getValue()),!this.needsValidation(s)&&!0!==r)return p.when();var l=this._getGroupedConstraints(),u=[];return p.each(l,function(t,e){var i=d.all(p.map(e,function(t){return n._validateConstraint(s,t)}));if(u.push(i),"rejected"===i.state())return!1}),d.all(u)}},_validateConstraint:function t(e,i){var n=this,r=i.validate(e,this);return!1===r&&(r=p.Deferred().reject()),d.all([r]).fail(function(t){n.validationResult instanceof Array||(n.validationResult=[]),n.validationResult.push({assert:i,errorMessage:"string"==typeof t&&t})})},getValue:function t(){var e;return null==(e="function"==typeof this.options.value?this.options.value(this):void 0!==this.options.value?this.options.value:this.$element.val())?"":this._handleWhitespace(e)},reset:function t(){return this._resetUI(),this._trigger("reset")},destroy:function t(){this._destroyUI(),this.$element.removeData("Parsley"),this.$element.removeData("FieldMultiple"),this._trigger("destroy")},refresh:function t(){return this._refreshConstraints(),this},_refreshConstraints:function t(){return this.actualizeOptions()._bindConstraints()},refreshConstraints:function t(){return d.warnOnce("Parsley's refreshConstraints is deprecated. Please use refresh"),this.refresh()},addConstraint:function t(e,i,n,r){if(window.Parsley._validatorRegistry.validators[e]){var s=new w(this,e,i,n,r);"undefined"!==this.constraintsByName[s.name]&&this.removeConstraint(s.name),this.constraints.push(s),this.constraintsByName[s.name]=s}return this},removeConstraint:function t(e){for(var i=0;i<this.constraints.length;i++)if(e===this.constraints[i].name){this.constraints.splice(i,1);break}return delete this.constraintsByName[e],this},updateConstraint:function t(e,i,n){return this.removeConstraint(e).addConstraint(e,i,n)},_bindConstraints:function t(){for(var e=[],i={},n=0;n<this.constraints.length;n++)!1===this.constraints[n].isDomConstraint&&(e.push(this.constraints[n]),i[this.constraints[n].name]=this.constraints[n]);for(var r in this.constraints=e,this.constraintsByName=i,this.options)this.addConstraint(r,this.options[r],void 0,!0);return this._bindHtml5Constraints()},_bindHtml5Constraints:function t(){null!==this.element.getAttribute("required")&&this.addConstraint("required",!0,void 0,!0),null!==this.element.getAttribute("pattern")&&this.addConstraint("pattern",this.element.getAttribute("pattern"),void 0,!0);var e=this.element.getAttribute("min"),i=this.element.getAttribute("max");null!==e&&null!==i?this.addConstraint("range",[e,i],void 0,!0):null!==e?this.addConstraint("min",e,void 0,!0):null!==i&&this.addConstraint("max",i,void 0,!0),null!==this.element.getAttribute("minlength")&&null!==this.element.getAttribute("maxlength")?this.addConstraint("length",[this.element.getAttribute("minlength"),this.element.getAttribute("maxlength")],void 0,!0):null!==this.element.getAttribute("minlength")?this.addConstraint("minlength",this.element.getAttribute("minlength"),void 0,!0):null!==this.element.getAttribute("maxlength")&&this.addConstraint("maxlength",this.element.getAttribute("maxlength"),void 0,!0);var n=d.getType(this.element);return"number"===n?this.addConstraint("type",["number",{step:this.element.getAttribute("step")||"1",base:e||this.element.getAttribute("value")}],void 0,!0):/^(email|url|range|date)$/i.test(n)?this.addConstraint("type",n,void 0,!0):this},_isRequired:function t(){return void 0!==this.constraintsByName.required&&!1!==this.constraintsByName.required.requirements},_trigger:function t(e){return this.trigger("field:"+e)},_handleWhitespace:function t(e){return!0===this.options.trimValue&&d.warnOnce('data-parsley-trim-value="true" is deprecated, please use data-parsley-whitespace="trim"'),"squish"===this.options.whitespace&&(e=e.replace(/\s{2,}/g," ")),"trim"!==this.options.whitespace&&"squish"!==this.options.whitespace&&!0!==this.options.trimValue||(e=d.trimString(e)),e},_isDateInput:function t(){var e=this.constraintsByName.type;return e&&"date"===e.requirements},_getGroupedConstraints:function t(){if(!1===this.options.priorityEnabled)return[this.constraints];for(var e=[],i={},n=0;n<this.constraints.length;n++){var r=this.constraints[n].priority;i[r]||e.push(i[r]=[]),i[r].push(this.constraints[n])}return e.sort(function(t,e){return e[0].priority-t[0].priority}),e}};var E=F,A=function t(){this.__class__="FieldMultiple"};A.prototype={addElement:function t(e){return this.$elements.push(e),this},_refreshConstraints:function t(){var e;if(this.constraints=[],"SELECT"===this.element.nodeName)return this.actualizeOptions()._bindConstraints(),this;for(var i=0;i<this.$elements.length;i++)if(p("html").has(this.$elements[i]).length){e=this.$elements[i].data("FieldMultiple")._refreshConstraints().constraints;for(var n=0;n<e.length;n++)this.addConstraint(e[n].name,e[n].requirements,e[n].priority,e[n].isDomConstraint)}else this.$elements.splice(i,1);return this},getValue:function t(){if("function"==typeof this.options.value)return this.options.value(this);if(void 0!==this.options.value)return this.options.value;if("INPUT"===this.element.nodeName){var e=d.getType(this.element);if("radio"===e)return this._findRelated().filter(":checked").val()||"";if("checkbox"===e){var i=[];return this._findRelated().filter(":checked").each(function(){i.push(p(this).val())}),i}}
return"SELECT"===this.element.nodeName&&null===this.$element.val()?[]:this.$element.val()},_init:function t(){return this.$elements=[this.$element],this}};var x=function t(e,i,n){this.element=e,this.$element=p(e);var r=this.$element.data("Parsley");if(r)return void 0!==n&&r.parent===window.Parsley&&(r.parent=n,r._resetOptions(r.options)),"object"==typeof i&&_extends(r.options,i),r;if(!this.$element.length)throw new Error("You must bind Parsley on an existing element.");if(void 0!==n&&"Form"!==n.__class__)throw new Error("Parent instance must be a Form instance");return this.parent=n||window.Parsley,this.init(i)};x.prototype={init:function t(e){return this.__class__="Parsley",this.__version__="2.8.0",this.__id__=d.generateID(),this._resetOptions(e),"FORM"===this.element.nodeName||d.checkAttr(this.element,this.options.namespace,"validate")&&!this.$element.is(this.options.inputs)?this.bind("parsleyForm"):this.isMultiple()?this.handleMultiple():this.bind("parsleyField")},isMultiple:function t(){var e=d.getType(this.element);return"radio"===e||"checkbox"===e||"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple")},handleMultiple:function t(){var n=this,e,i,r;if(this.options.multiple=this.options.multiple||(e=this.element.getAttribute("name"))||this.element.getAttribute("id"),"SELECT"===this.element.nodeName&&null!==this.element.getAttribute("multiple"))return this.options.multiple=this.options.multiple||this.__id__,this.bind("parsleyFieldMultiple");if(!this.options.multiple)return d.warn("To be bound by Parsley, a radio, a checkbox and a multiple select input must have either a name or a multiple option.",this.$element),this;this.options.multiple=this.options.multiple.replace(/(:|\.|\[|\]|\{|\}|\$)/g,""),e&&p('input[name="'+e+'"]').each(function(t,e){var i=d.getType(e);"radio"!==i&&"checkbox"!==i||e.setAttribute(n.options.namespace+"multiple",n.options.multiple)});for(var s=this._findRelated(),a=0;a<s.length;a++)if(void 0!==(r=p(s.get(a)).data("Parsley"))){this.$element.data("FieldMultiple")||r.addElement(this.$element);break}return this.bind("parsleyField",!0),r||this.bind("parsleyFieldMultiple")},bind:function t(e,i){var n;switch(e){case"parsleyForm":n=p.extend(new y(this.element,this.domOptions,this.options),new s,window.ParsleyExtend)._bindFields();break;case"parsleyField":n=p.extend(new E(this.element,this.domOptions,this.options,this.parent),new s,window.ParsleyExtend);break;case"parsleyFieldMultiple":n=p.extend(new E(this.element,this.domOptions,this.options,this.parent),new A,new s,window.ParsleyExtend)._init();break;default:throw new Error(e+"is not a supported Parsley type")}return this.options.multiple&&d.setAttr(this.element,this.options.namespace,"multiple",this.options.multiple),void 0!==i?this.$element.data("FieldMultiple",n):(this.$element.data("Parsley",n),n._actualizeTriggers(),n._trigger("init")),n}};var $=p.fn.jquery.split(".");if(parseInt($[0])<=1&&parseInt($[1])<8)throw"The loaded version of jQuery is too old. Please upgrade to 1.8.x or better.";$.forEach||d.warn("Parsley requires ES5 to run properly. Please include https://github.com/es-shims/es5-shim");var P=_extends(new s,{element:document,$element:p(document),actualizeOptions:null,_resetOptions:null,Factory:x,version:"2.8.0"});_extends(E.prototype,g.Field,s.prototype),_extends(y.prototype,g.Form,s.prototype),_extends(x.prototype,s.prototype),p.fn.parsley=p.fn.psly=function(t){if(1<this.length){var e=[];return this.each(function(){e.push(p(this).parsley(t))}),e}if(0!=this.length)return new x(this[0],t)},void 0===window.ParsleyExtend&&(window.ParsleyExtend={}),P.options=_extends(d.objectCreate(r),window.ParsleyConfig),window.ParsleyConfig=P.options,window.Parsley=window.psly=P,P.Utils=d,window.ParsleyUtils={},p.each(d,function(t,e){"function"==typeof e&&(window.ParsleyUtils[t]=function(){return d.warnOnce("Accessing `window.ParsleyUtils` is deprecated. Use `window.Parsley.Utils` instead."),d[t].apply(d,arguments)})});var V=window.Parsley._validatorRegistry=new t(window.ParsleyConfig.validators,window.ParsleyConfig.i18n);window.ParsleyValidator={},p.each("setLocale addCatalog addMessage addMessages getErrorMessage formatMessage addValidator updateValidator removeValidator hasValidator".split(" "),function(t,e){window.Parsley[e]=function(){return V[e].apply(V,arguments)},window.ParsleyValidator[e]=function(){var t;return d.warnOnce("Accessing the method '"+e+"' through Validator is deprecated. Simply call 'window.Parsley."+e+"(...)'"),(t=window.Parsley)[e].apply(t,arguments)}}),window.Parsley.UI=g,window.ParsleyUI={removeError:function t(e,i,n){var r=!0!==n;return d.warnOnce("Accessing UI is deprecated. Call 'removeError' on the instance directly. Please comment in issue 1073 as to your need to call this method."),e.removeError(i,{updateClass:r})},getErrorsMessages:function t(e){return d.warnOnce("Accessing UI is deprecated. Call 'getErrorsMessages' on the instance directly."),e.getErrorsMessages()}},p.each("addError updateError".split(" "),function(t,a){window.ParsleyUI[a]=function(t,e,i,n,r){var s=!0!==r;return d.warnOnce("Accessing UI is deprecated. Call '"+a+"' on the instance directly. Please comment in issue 1073 as to your need to call this method."),t[a](e,{message:i,assert:n,updateClass:s})}}),!1!==window.ParsleyConfig.autoBind&&p(function(){p("[data-parsley-validate]").length&&p("[data-parsley-validate]").parsley()});var T=p({}),O=function t(){d.warnOnce("Parsley's pubsub module is deprecated; use the 'on' and 'off' methods on parsley instances or window.Parsley")};function M(e,i){return e.parsleyAdaptedCallback||(e.parsleyAdaptedCallback=function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(this),e.apply(i||T,t)}),e.parsleyAdaptedCallback}var R="parsley:";function D(t){return 0===t.lastIndexOf(R,0)?t.substr(R.length):t}p.listen=function(t,e){var i;if(O(),"object"==typeof arguments[1]&&"function"==typeof arguments[2]&&(i=arguments[1],e=arguments[2]),"function"!=typeof e)throw new Error("Wrong parameters");window.Parsley.on(D(t),M(e,i))},p.listenTo=function(t,e,i){if(O(),!(t instanceof E||t instanceof y))throw new Error("Must give Parsley instance");if("string"!=typeof e||"function"!=typeof i)throw new Error("Wrong parameters");t.on(D(e),M(i))},p.unsubscribe=function(t,e){if(O(),"string"!=typeof t||"function"!=typeof e)throw new Error("Wrong arguments");window.Parsley.off(D(t),e.parsleyAdaptedCallback)},p.unsubscribeTo=function(t,e){if(O(),!(t instanceof E||t instanceof y))throw new Error("Must give Parsley instance");t.off(D(e))},p.unsubscribeAll=function(e){O(),window.Parsley.off(D(e)),p("form,input,textarea,select").each(function(){var t=p(this).data("Parsley");t&&t.off(D(e))})},p.emit=function(t,e){var i;O();var n=e instanceof E||e instanceof y,r=Array.prototype.slice.call(arguments,n?2:1);r.unshift(D(t)),n||(e=window.Parsley),(i=e).trigger.apply(i,_toConsumableArray(r))};var I={},q,S;
/**
   * inputevent - Alleviate browser bugs for input events
   * https://github.com/marcandre/inputevent
   * @version v0.0.3 - (built Thu, Apr 14th 2016, 5:58 pm)
   * @author Marc-Andre Lafortune <github@marc-andre.ca>
   * @license MIT
   */
function k(){var r=this,s=window||global;_extends(this,{isNativeEvent:function t(e){return e.originalEvent&&!1!==e.originalEvent.isTrusted},fakeInputEvent:function t(e){r.isNativeEvent(e)&&p(e.target).trigger("input")},misbehaves:function t(e){r.isNativeEvent(e)&&(r.behavesOk(e),p(document).on("change.inputevent",e.data.selector,r.fakeInputEvent),r.fakeInputEvent(e))},behavesOk:function t(e){r.isNativeEvent(e)&&p(document).off("input.inputevent",e.data.selector,r.behavesOk).off("change.inputevent",e.data.selector,r.misbehaves)},install:function t(){if(!s.inputEventPatched){s.inputEventPatched="0.0.3";for(var e=["select",'input[type="checkbox"]','input[type="radio"]','input[type="file"]'],i=0;i<e.length;i++){var n=e[i];p(document).on("input.inputevent",n,{selector:n},r.behavesOk).on("change.inputevent",n,{selector:n},r.misbehaves)}}},uninstall:function t(){delete s.inputEventPatched,p(document).off(".inputevent")}})}return p.extend(!0,P,{asyncValidators:{default:{fn:function t(e){return 200<=e.status&&e.status<300},url:!1},reverse:{fn:function t(e){return e.status<200||300<=e.status},url:!1}},addAsyncValidator:function t(e,i,n,r){return P.asyncValidators[e]={fn:i,url:n||!1,options:r||{}},this}}),P.addValidator("remote",{requirementType:{"":"string",validator:"string",reverse:"boolean",options:"object"},validateString:function t(e,i,n,r){var s={},a,o,l=n.validator||(!0===n.reverse?"reverse":"default");if(void 0===P.asyncValidators[l])throw new Error("Calling an undefined async validator: `"+l+"`");-1<(i=P.asyncValidators[l].url||i).indexOf("{value}")?i=i.replace("{value}",encodeURIComponent(e)):s[r.element.getAttribute("name")||r.element.getAttribute("id")]=e;var u=p.extend(!0,n.options||{},P.asyncValidators[l].options);a=p.extend(!0,{},{url:i,data:s,type:"GET"},u),r.trigger("field:ajaxoptions",r,a),o=p.param(a),void 0===P._remoteCache&&(P._remoteCache={});var d=P._remoteCache[o]=P._remoteCache[o]||p.ajax(a),h=function t(){var e=P.asyncValidators[l].fn.call(r,d,i,n);return e||(e=p.Deferred().reject()),p.when(e)};return d.then(h,h)},priority:-1}),P.on("form:submit",function(){P._remoteCache={}}),s.prototype.addAsyncValidator=function(){return d.warnOnce("Accessing the method `addAsyncValidator` through an instance is deprecated. Simply call `Parsley.addAsyncValidator(...)`"),P.addAsyncValidator.apply(P,arguments)},P.addMessages("en",{defaultMessage:"This value seems to be invalid.",type:{email:"This value should be a valid email.",url:"This value should be a valid url.",number:"This value should be a valid number.",integer:"This value should be a valid integer.",digits:"This value should be digits.",alphanum:"This value should be alphanumeric."},notblank:"This value should not be blank.",required:"This value is required.",pattern:"This value seems to be invalid.",min:"This value should be greater than or equal to %s.",max:"This value should be lower than or equal to %s.",range:"This value should be between %s and %s.",minlength:"This value is too short. It should have %s characters or more.",maxlength:"This value is too long. It should have %s characters or fewer.",length:"This value length is invalid. It should be between %s and %s characters long.",mincheck:"You must select at least %s choices.",maxcheck:"You must select %s choices or fewer.",check:"You must select between %s and %s choices.",equalto:"This value should be the same."}),P.setLocale("en"),(new k).install(),P});