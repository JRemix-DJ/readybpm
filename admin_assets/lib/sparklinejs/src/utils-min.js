createClass=function(){var e,t;return e=function(){this.init.apply(this,arguments)},1<arguments.length?(arguments[0]?(e.prototype=$.extend(new arguments[0],arguments[arguments.length-1]),e._super=arguments[0].prototype):e.prototype=arguments[arguments.length-1],2<arguments.length&&((t=Array.prototype.slice.call(arguments,1,-1)).unshift(e.prototype),$.extend.apply($,t))):e.prototype=arguments[0],e.prototype.cls=e},$.SPFormatClass=SPFormat=createClass({fre:/\{\{([\w.]+?)(:(.+?))?\}\}/g,precre:/(\w+)\.(\d+)/,init:function(e,t){this.format=e,this.fclass=t},render:function(e,t,r){var n=this,o=e,a,u,l,i,s;return this.format.replace(this.fre,function(){var e;return u=arguments[1],l=arguments[3],(a=n.precre.exec(u))?(s=a[2],u=a[1]):s=!1,void 0===(i=o[u])?"":l&&t&&t[l]?(e=t[l]).get?t[l].get(i)||i:t[l][i]||i:(isNumber(i)&&(i=r.get("numberFormatter")?r.get("numberFormatter")(i):formatNumber(i,s,r.get("numberDigitGroupCount"),r.get("numberDigitGroupSep"),r.get("numberDecimalMark"))),i)})}}),$.spformat=function(e,t){return new SPFormat(e,t)},clipval=function(e,t,r){return e<t?t:r<e?r:e},quartile=function(e,t){var r;return 2===t?(r=Math.floor(e.length/2),e.length%2?e[r]:(e[r-1]+e[r])/2):e.length%2?(r=(e.length*t+t)/4)%1?(e[Math.floor(r)]+e[Math.floor(r)-1])/2:e[r-1]:(r=(e.length*t+2)/4)%1?(e[Math.floor(r)]+e[Math.floor(r)-1])/2:e[r-1]},normalizeValue=function(e){var t;switch(e){case"undefined":e=void 0;break;case"null":e=null;break;case"true":e=!0;break;case"false":e=!1;break;default:e==(t=parseFloat(e))&&(e=t)}return e},normalizeValues=function(e){var t,r=[];for(t=e.length;t--;)r[t]=normalizeValue(e[t]);return r},remove=function(e,t){var r,n,o=[];for(r=0,n=e.length;r<n;r++)e[r]!==t&&o.push(e[r]);return o},isNumber=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},formatNumber=function(e,t,r,n,o){var a,u;for(e=(!1===t?parseFloat(e).toString():e.toFixed(t)).split(""),(a=(a=$.inArray(".",e))<0?e.length:a)<e.length&&(e[a]=o),u=a-r;0<u;u-=r)e.splice(u,0,n);return e.join("")},all=function(e,t,r){var n;for(n=t.length;n--;)if((!r||null!==t[n])&&t[n]!==e)return!1;return!0},sum=function(e){var t=0,r;for(r=e.length;r--;)t+="number"==typeof e[r]?e[r]:0;return t},ensureArray=function(e){return $.isArray(e)?e:[e]},addCSS=function(e){var t,r;if(document.createStyleSheet)try{return void(document.createStyleSheet().cssText=e)}catch(e){r=!0}(t=document.createElement("style")).type="text/css",document.getElementsByTagName("head")[0].appendChild(t),r?document.styleSheets[document.styleSheets.length-1].cssText=e:t["string"==typeof document.body.style.WebkitAppearance?"innerText":"innerHTML"]=e};